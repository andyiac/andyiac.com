<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Andyiac | GitHub 托管多个站</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="GitHub 托管多个站">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://andyiac.com//posts/jekyll">
  <meta property="og:description" content="">
  <meta property="og:site_name" content="Andyiac">
  <meta property="og:image" content="http://andyiac.com//assets/og-image.jpg">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://andyiac.com//posts/jekyll">
  <meta name="twitter:title" content="GitHub 托管多个站">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="http://andyiac.com//assets/og-image.jpg">

  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="http://andyiac.com//feed.xml" type="application/rss+xml" rel="alternate" title="Andyiac Last 10 blog posts" />

  
    <link type="text/css" rel="stylesheet" href="/assets/light.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="Andyiac">Andyiac</a>
  <ul class="header-links">
    
    
      <li>
        <a href="https://twitter.com/andyiaczhang" target="_blank" title="Twitter">
          <span class="icon icon-social-twitter"></span>
        </a>
      </li>
    
    
    
      <li>
        <a href="https://github.com/andyiac" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
    
    
    
    
      <li>
        <a href="mailto:andyiac@foxmail.com" title="Email">
          <span class="icon icon-at"></span>
        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>GitHub 托管多个站</h1>
            <p></p>
            <div class="article-list-footer">
              <span class="article-list-date">
                November 3, 2015
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  2 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p>GitHub可以免费托管静态网页，并且为每个账户提供一个username.github.io的域名，在这个域名下正好可以写个博客。</p>

<p>另外GitHub中的repository 也可以建立gh-pages分支，GitHub会默认发布此分支的静态网页在<code class="highlighter-rouge">http://username.github.io/projectname</code> 下，据此我们可以发布N个站了。</p>

<h2 id="快速安装">快速安装</h2>

<p>首先请确认有ruby环境，如何安装ruby就不在此赘述了</p>

<p>更新淘宝镜像：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org/
$ gem sources -l
</code></pre>
</div>

<p>可参照官网 : <a href="http://jekyllrb.com/docs/quickstart">jekyllrb.com/docs/quickstart/</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code>~ $ gem install jekyll
~ $ jekyll new myblog
~ $ cd myblog
~/myblog $ jekyll serve
# ==&gt;&gt; now browse to http://localhost:4000
</code></pre>
</div>

<p>若在Mac环境下可能会有提示安装一些module官网并没有写清楚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~ $ gem install jekyll // 安装jekyll
~ $ gem install kramdown // markdown语言解析
~ $ gem install pygments.rb // 代码高亮
~ $ gem install liquid 
</code></pre>
</div>

<p>按照提示没有哪个 module 就安装哪个直接<code class="highlighter-rouge">gem install</code> 就可以，安装<code class="highlighter-rouge">pygments</code>模块需要单独注意，它是</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~ $ gem install pygments.rb	     
</code></pre>
</div>

<h2 id="添加tab导航页面">添加TAB导航页面</h2>

<p>在根目录下添加同 about.md 相仿的md文件如 timeline.md</p>

<p>Front Matter 应该写成：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>---
layout: page
title: Blogging like a hacker
---
</code></pre>
</div>

<p>注意 <code class="highlighter-rouge">layout: page</code> 其中 page 的样式可以在 <code class="highlighter-rouge">_layout</code>文件下找到。</p>

<p>注：<code class="highlighter-rouge">index.html</code> 也可以使用 <code class="highlighter-rouge">index.md</code> 同样适用，注意写 Front Matter</p>

<h2 id="使用github托管多个网站">使用GitHub托管多个网站</h2>

<p>每个GitHub账号只能配置一个 <code class="highlighter-rouge">username.github.io</code> 域名，同时可通过CNAME 记录解析到 <code class="highlighter-rouge">username.github.io</code> GitHub会自动解析发布此目录下的 Jekyll 项目。</p>

<p>另外GitHub中的repository 也可以建立gh-pages分支，GitHub会默认发布此分支的静态网页在<code class="highlighter-rouge">http://username.github.io/projectname</code> 下，据此我们就可以发布N个站了。</p>

<p>不过问题来了，要想为心的站配置独立的域名怎么办呢</p>

<p>首先适用 <code class="highlighter-rouge">dig</code>工具查看自己的域名信息，如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~ $ dig andyiac.github.io

; &lt;&lt;&gt;&gt; DiG 9.8.3-P1 &lt;&lt;&gt;&gt; andyiac.github.io
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 58992
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 4, ADDITIONAL: 0

;; QUESTION SECTION:
;andyiac.github.io.		IN	A

;; ANSWER SECTION:
andyiac.github.io.	3600	IN	CNAME	github.map.fastly.net.
github.map.fastly.net.	600	IN	A	185.31.18.133

;; AUTHORITY SECTION:
fastly.net.		82664	IN	NS	ns3.p04.dynect.net.
fastly.net.		82664	IN	NS	ns1.p04.dynect.net.
fastly.net.		82664	IN	NS	ns4.p04.dynect.net.
fastly.net.		82664	IN	NS	ns2.p04.dynect.net.

;; Query time: 109 msec
;; SERVER: 124.207.160.110#53(124.207.160.110)
;; WHEN: Sat Nov 21 12:06:04 2015
;; MSG SIZE  rcvd: 169
</code></pre>
</div>

<p>可以看到 <code class="highlighter-rouge">andyiac.github.io</code> 最终被A纪录解析到 <code class="highlighter-rouge">185.31.18.133</code></p>

<p>基于以上我们搭建的新站：</p>

<ul>
  <li>在GiHub上新建一个Repo，名称随意不如<code class="highlighter-rouge">newblog</code></li>
  <li>clone 到本地 并且新建 <code class="highlighter-rouge">gh-pages</code>分支（GitHub 会发布此分支到Jekyll内容）</li>
  <li>添加CNAME 文件到根目录</li>
  <li>配置域名使用A纪录直接解析到 <code class="highlighter-rouge">185.31.18.133</code></li>
</ul>

<p>如果你也使用的是阿里云的域名服务的话，一分钟后网站即可生效。</p>

<p>以下的两个网站即是基于此搭建完成的。</p>

<ul>
  <li><a href="http://www.androiddevlibs.com">www.androiddevlibs.com</a></li>
  <li><a href="http://www.androidopensourceproject.com">www.androidopensourceproject.com</a></li>
</ul>

<h2 id="添加右侧内容导航">添加右侧内容导航</h2>

<p>文章正文的内容根据markdown的级别二级标题和三级标题自动生成导航内容（貌似可以使用js实现 我一直想给markdown添加的功能。
具体如下：</p>

<ul>
  <li>一级标题即：一个 <code class="highlighter-rouge">#</code> 不用 一级标题用来题目用即每个文章的topic</li>
  <li>二级标题和三级标题才有 导航</li>
  <li>三级标题默认不展开，只有当文章滑动到相应标题才展开</li>
  <li>导航放在右手边，方便用户点击</li>
  <li>放在左边可能更符合视觉效果，个人认为是还是放在右边更符合简洁设计的思路</li>
  <li><a href="http://siberiawolf.com/">www.siberiawolf.com</a> 这个是通过遍历文件来实现的</li>
</ul>

<p>笔者对<a href="http://siberiawolf.com/">www.siberiawolf.com</a>做了修改有了下面这两个网站</p>

<ul>
  <li><a href="http://www.androiddevlibs.com">www.androiddevlibs.com</a></li>
  <li><a href="http://www.androidopensourceproject.com">www.androidopensourceproject.com</a></li>
</ul>

<h3 id="sass">SASS</h3>
<p>可以理解为CSS的升级版</p>

<h2 id="links">Links</h2>

<h3 id="一些简洁的主题">一些简洁的主题</h3>

<ul>
  <li><a href="http://jekyllthemes.org/themes/the-plain/">http://jekyllthemes.org/themes/the-plain/</a></li>
  <li><a href="http://scribble.muan.co/">http://scribble.muan.co/</a> GitHub设计师muan的作品够简洁</li>
  <li><a href="https://github.com/mattvh/jekyllthemes">https://github.com/mattvh/jekyllthemes</a></li>
  <li><a href="https://github.com/erming/shout-website">shout website theme</a> 这个主题也够简洁是我的风格</li>
</ul>

<h3 id="others">Others</h3>
<ul>
  <li><a href="http://jekyllcn.com/">http://jekyllcn.com/</a> Jekyll中文翻译</li>
  <li><a href="http://jekyllrb.com/">http://jekyllrb.com/</a> Jekyll 官网</li>
</ul>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=GitHub 托管多个站 - http://andyiac.com//posts/jekyll by @andyiaczhang', 'newwindow', 'width=500, height=225'); return false;">
              <span class="icon icon-social-twitter"></span>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=http://andyiac.com//posts/jekyll', 'newwindow', 'width=500, height=500'); return false;">
              <span class="icon icon-social-facebook"></span>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=http://andyiac.com//posts/jekyll', 'newwindow', 'width=550, height=400'); return false;">
              <span class="icon icon-social-googleplus"></span>
            </a>
          </div>

          
        </article>
        <footer class="footer reveal">
  <p>
    <a href="/about" title="About me">@ 2017 andyiac</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>


  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-69625956-2','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</body>
</html>
